<!DOCTYPE html>
<html lang="zh-CN">
<head>
<!-- æ²¡æƒ³åˆ°ä½ ç«Ÿç„¶è¿›åˆ°æºç ğŸ˜¿ï¼Œæœ‰ç‚¹æ„æ€ğŸ˜‚ï¼Œå†™çš„ä¸€å¨ï¼Œbugä¹ŸæŒºå¤šçš„ï¼Œæ²¡æ¥çš„åŠæ”¹äº†ï¼Œéšä¾¿åˆ’ä¸¤ä¸‹å¾—äº†ï¼Œç»™ä½ æé†’äº†ğŸ¤ªï¼ŒğŸ¤ªğŸ¤ªğŸ¤ªçœŸåˆ’åˆ°åº•çš„è¯ä¼šç”µè„‘ä¼šçˆ†ç‚¸ğŸ¤¯ğŸ¤¯ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ï¼Œ -->
<!--  ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ -->
<!--  ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­å–œä½ è¿›å…¥21å²å‰¯æœ¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #f5f0ff 0%, #fef7fb 100%);
            font-family: "Comic Sans MS", "å¹¼åœ†", "é»‘ä½“", sans-serif;
            overflow: hidden;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 0;
        }

        @keyframes fireworkBurst {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            60% {
                transform: scale(5);
                opacity: 0.8;
            }
            100% {
                transform: scale(8);
                opacity: 0;
            }
        }

        .firework {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            opacity: 0;
            animation: fireworkBurst 3s infinite ease-in-out;
            z-index: 1;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        @keyframes petalFall {
            0% {
                transform: translateY(-10px) rotate(0deg) translateX(0);
                opacity: 0.9;
            }
            50% {
                transform: translateY(50vh) rotate(360deg) translateX(10px);
                opacity: 0.6;
            }
            100% {
                transform: translateY(100vh) rotate(720deg) translateX(-10px);
                opacity: 0;
            }
        }

        .petal {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50% 0;
            background: radial-gradient(circle, #ff6b9d 0%, #ff98b5 100%);
            opacity: 0.8;
            animation: petalFall 8s infinite linear;
            z-index: 1;
        }

        .card-container {
            position: relative;
            z-index: 2;
            perspective: 2000px;
            overflow: hidden;
            width: 420px;
            height: 580px;
        }

        .birthday-card {
            width: 420px;
            height: 580px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }


        .card-front, .card-back {
            width: 100%;
            height: 100%;
            position: absolute;
            backface-visibility: hidden;
            border-radius: 20px;
            background: #ffffff;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.2);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            overflow: hidden;
            /* æ–°å¢ï¼šå·¦å³æ»‘åŠ¨è¿‡æ¸¡ */
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateX(0);
        }

        .question1-card, .question2-card, .question3-card, .final-img-card, .random-final-img-card {
            width: 100%;
            height: 100%;
            position: absolute;
            backface-visibility: hidden;
            border-radius: 20px;
            background: #ffffff;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.2);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            overflow: hidden;
            background: linear-gradient(180deg, #fdf7fb 0%, #f8eef6 100%);
            transform: translateY(-100%);
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
        }

        .random-question-card {
            width: 100%;
            height: 100%;
            position: absolute;
            backface-visibility: hidden;
            border-radius: 20px;
            background: linear-gradient(180deg, #fdf7fb 0%, #f8eef6 100%);
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.2);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            overflow: hidden;
            transform: translateX(-100%);
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 11;
        }


        .main-card-shift-right {
            transform: translateX(100%);
        }


        .random-question-show {
            transform: translateX(0);
        }


        .random-question-hide {
            transform: translateX(100%);
        }


        .final-img-card.slide-in-left, .random-final-img-card.slide-in-left {
            transform: translateX(0);
            opacity: 1;

        }

        .card-slide-down {
            transform: translateY(0);
            opacity: 1;
        }

        .card-slide-up {
            transform: translateY(-100%);
            opacity: 0;
        }

        .card-front {
            transform: rotateY(0deg);
            background: linear-gradient(180deg, #fff 0%, #fef9fb 100%);
            justify-content: center;
            padding-top: 0;
            z-index: 1;
        }

        .card-back {
            transform: rotateY(180deg);
            background: linear-gradient(180deg, #f8f0f9 0%, #f5e6f3 100%);
            z-index: 1;
        }

        .birthday-card.flipped {
            transform: rotateY(180deg);
        }

        .cake-wrapper {
            position: relative;
            margin-top: 20px; 
            width: 160px; 
            height: 160px; 
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }

        .cake {
            width: 160px;
            height: 110px;
            background: #ffd1dc;
            border-radius: 8px 8px 40% 40%;
            position: absolute;
            bottom: 0;
            box-shadow: inset 0 -8px 0 rgba(255, 107, 157, 0.1);
        }

        .cake::before {
            content: "";
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            width: 110px;
            height: 22px;
            background: #ff6b9d;
            border-radius: 12px;
            box-shadow: inset 0 4px 0 rgba(255, 255, 255, 0.3);
            z-index: 2;
        }

        .candle {
            position: absolute;
            top: 12px; 
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 55px; 
            background: #ffffff;
            border-radius: 6px 6px 2px 2px;
            box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.1);
            z-index: 3;
        }

        @keyframes flameFlicker {
            0% {
                transform: translateX(-50%) scale(0.95) rotate(-1deg);
                opacity: 0.9;
            }
            50% {
                transform: translateX(-50%) scale(1.05) rotate(1deg);
                opacity: 1;
            }
            100% {
                transform: translateX(-50%) scale(0.95) rotate(-1deg);
                opacity: 0.9;
            }
        }

        .flame {
            position: absolute;
            top: 7px; 
            left: 50%;
            transform: translateX(-50%);
            width: 18px;
            height: 28px;
            background: radial-gradient(circle, #ffeb3b 0%, #ff9800 100%);
            border-radius: 50% 50% 20% 20%;
            animation: flameFlicker 1.2s infinite ease-in-out;
            box-shadow: 0 0 12px rgba(255, 152, 0, 0.6);
            z-index: 4; 
        }

        .front-title {
            font-size: 42px;
            color: #ff4d88;
            margin-bottom: 0;
            font-weight: bold;
            letter-spacing: 3px;
            text-shadow: 2px 2px 4px rgba(255, 77, 136, 0.2);
            font-family: "Comic Sans MS", "ååº·ä¿ªé‡‘é»‘", "å¹¼åœ†", sans-serif;
        }

        .front-tip {
            display: none;
        }

        .back-title {
            font-size: 30px; 
            color: #ff4d88;
            margin-bottom: 25px;
            font-weight: bold;
            letter-spacing: 2px;
            text-align: center;
            font-family: "Comic Sans MS", "ååº·å°‘å¥³æ–‡å­—", "å¹¼åœ†", sans-serif;
        }

        .blessing-area {
            width: 100%;
            min-height: 220px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            padding: 25px;
            font-family: "Comic Sans MS", "æ±‰ä»ªåœ†å ä½“", "å¹¼åœ†", sans-serif;
            font-size: 24px; 
            line-height: 2.2;
            color: #333333;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.05);
            word-wrap: break-word;
            transform: rotate(-0.5deg);
        }

        .signature {
            width: 100%;
            text-align: right;
            margin-top: 25px;
            font-family: "Comic Sans MS", "ååº·å¨ƒå¨ƒä½“", "å¹¼åœ†", sans-serif;
            font-size: 22px; 
            color: #ff4d88;
            letter-spacing: 1px;
            transform: rotate(1deg);
        }

        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #ff4d88;
            color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(255, 77, 136, 0.3);
            z-index: 100;
            transition: all 0.3s ease;
        }

        .music-control:hover {
            transform: scale(1.1);
            background: #ff3377;
        }

        .back-btn {
            position: fixed;
            top: 30px;
            left: 30px;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: #ff4d88;
            color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(255, 77, 136, 0.3);
            z-index: 100;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            transform: scale(1.1);
            background: #ff3377;
        }

        .hidden-source-btn {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 50px;
            opacity: 0;
            z-index: 99;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
            margin: 0;
        }

        .question-title {
            font-size: 28px;
            color: #ff4d88;
            margin-bottom: 40px;
            font-weight: bold;
            text-align: center;
            letter-spacing: 2px;
        }

        .answer-input {
            width: 80%;
            height: 50px;
            padding: 0 15px;
            border: 2px solid #ff98b5;
            border-radius: 25px;
            font-size: 20px;
            color: #333;
            outline: none;
            margin-bottom: 10px;
            text-align: center;
        }

        .answer-input:focus {
            border-color: #ff4d88;
            box-shadow: 0 0 10px rgba(255, 77, 136, 0.2);
        }

        .submit-btn {
            width: 120px;
            height: 45px;
            background: #ff4d88;
            color: #fff;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            background: #ff3377;
            transform: scale(1.05);
        }

        .error-tip {
            color: #f44336;
            font-size: 16px;
            margin-top: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .error-tip.show {
            opacity: 1;
        }


        .countdown-tip {
            display: none; 
        }

        .final-img, .random-final-img {
            width: 100%;
            height: 80%;
            border-radius: 15px;
            object-fit: cover;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .final-title, .random-final-title {
            font-size: 26px;
            color: #ff4d88;
            margin-top: 20px;
            font-weight: bold;
            letter-spacing: 1px;
        }

        @media (max-width: 480px) {
            .card-container, .birthday-card {
                width: 90vw;
                height: 520px;
            }

            .front-title {
                font-size: 36px;
                letter-spacing: 2px;
            }

            .back-title {
                font-size: 26px;
            }

            .blessing-area {
                font-size: 20px;
                line-height: 2;
                min-height: 180px;
                padding: 20px;
                transform: rotate(-0.3deg);
            }

            .signature {
                font-size: 18px;
                transform: rotate(0.8deg);
            }

            .music-control {
                width: 45px;
                height: 45px;
                font-size: 18px;
                bottom: 20px;
                right: 20px;
            }

            .back-btn {
                width: 40px;
                height: 40px;
                font-size: 16px;
                top: 20px;
                left: 20px;
            }

            .hidden-source-btn {
                width: 40px;
                height: 40px;
            }

            .cake-wrapper {
                width: 140px;
                height: 140px;
            }

            .cake {
                width: 140px;
                height: 100px;
            }

            .candle {
                height: 50px;
                top: 10px;
            }

            .flame {
                top: 5px;
            }

            .question-title {
                font-size: 24px;
                margin-bottom: 30px;
            }

            .answer-input {
                height: 45px;
                font-size: 18px;
            }

            .submit-btn {
                width: 100px;
                height: 40px;
                font-size: 16px;
            }

            .final-title, .random-final-title {
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
    <div id="fireworkContainer"></div>
    <div id="petalContainer"></div>

    <div class="back-btn" id="backBtn">â¬…ï¸</div>

    <button class="hidden-source-btn" id="hiddenSourceBtn"></button>

    <div class="card-container">
        <div class="birthday-card" id="birthdayCard">

            <div class="card-front" id="mainCardFront">
                <h1 class="front-title">ğŸŒ¸å¼ é›…æ€¡âœ¨<br>ç”Ÿæ—¥å¿«ä¹ğŸ‚</h1>
                <div class="cake-wrapper">
                    <div class="cake"></div>
                    <div class="candle"></div> 
                    <div class="flame"></div>
                </div>
            </div>


            <div class="card-back" id="mainCardBack">
                <h2 class="back-title">è‡´æˆ‘æ»´è€åŒæ¡ŒğŸ¥³</h2>
                <div class="blessing-area">
                    1æœˆ1æ—¥ğŸ‚æ­å–œè¿›å…¥21å²å‰¯æœ¬<br>
                    å¸Œæœ›ä½ æ°¸è¿œèƒ½ï¼š<br>
                    å¹³å®‰å–œä¹ï¼Œä¸‡äº‹é¡ºæ„ï¼Œ<br>
                    çœ¼é‡Œæœ‰å…‰ï¼Œå¿ƒä¸­æœ‰æš–ï¼Œ<br>
                    æ¯ä¸€å²éƒ½å¥”èµ°åœ¨çƒ­çˆ±é‡Œï¼Œ<br>
                    ç”Ÿæ—¥å¿«ä¹â¤ï¸ ä¸” æ–°å¹´å¿«ä¹ğŸ‡
                </div>
                <div class="signature">
                    â€”â€” æ¯é¸¡è¦å’‹å†™ğŸ˜£
                </div>
            </div>


            <div class="question1-card" id="question1Card">
                <h2 class="question-title">æˆ‘çš„é«˜ä¸‰ç­ä¸»ä»»æ˜¯</h2>
                <input type="text" class="answer-input" id="answer1Input" placeholder="è¯·è¾“å…¥å§“å">
                <div class="error-tip" id="error1Tip">è¯·é‡æ–°è¾“å…¥</div>
                <button class="submit-btn" id="submit1Btn">æäº¤ç­”æ¡ˆ</button>
            </div>

            <div class="question2-card" id="question2Card">
                <h2 class="question-title">23å±Šäº”ä¸­é«˜ä¸‰5ç­äººæ•°</h2>
                <input type="text" class="answer-input" id="answer2Input" placeholder="è¯·è¾“å…¥æ•°å­—">
                <div class="error-tip" id="error2Tip">è¯·é‡æ–°è¾“å…¥</div>
                <button class="submit-btn" id="submit2Btn">æäº¤ç­”æ¡ˆ</button>
            </div>

            <div class="question3-card" id="question3Card">
                <h2 class="question-title">è¯·è¾“å…¥å¯†ç </h2>
                <input type="text" class="answer-input" id="answer3Input" placeholder="ä½ å¹´ä»½æ–°å†œå†ç”Ÿæ—¥æ•°å­—">
                <div class="error-tip" id="error3Tip">è¯·é‡æ–°è¾“å…¥</div>
                <button class="submit-btn" id="submit3Btn">æäº¤ç­”æ¡ˆ</button>
            </div>


            <div class="final-img-card" id="finalImgCard">
                <img src="xiayan.jpg" alt="3é¢˜ç­”å¯¹ä¸“å±å›¾ç‰‡" class="final-img">
                <h3 class="final-title">å¤å½¦çš„ç¥ç¦âœ¨</h3>
            </div>


            <div class="random-final-img-card" id="randomFinalImgCard">
                <img src="" alt="éšæœºé¢˜ç­”å¯¹ä¸“å±å›¾ç‰‡" class="random-final-img"> <!-- srcç•™ç©ºï¼ŒJSåŠ¨æ€èµ‹å€¼ -->
                <h3 class="random-final-title">ç¥çš„ç¥ç§˜ç¥ç¦âœ¨<br>5sæŸ¥çœ‹</h3>
            </div>


            <div class="random-question-card" id="randomQuestionCard">
                <div class="countdown-tip" id="countdownTip"></div>
                <h2 class="question-title" id="randomQTitle">è¯·å›ç­”é—®é¢˜</h2>
                <input type="text" class="answer-input" id="randomAnsInput" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
                <div class="error-tip" id="randomErrTip">å›ç­”é”™è¯¯</div>
                <button class="submit-btn" id="randomSubmitBtn">æäº¤ç­”æ¡ˆ</button>
            </div>
        </div>
    </div>


    <audio id="bgm" src="https://music.163.com/song/media/outer/url?id=1456890009.mp3" loop preload="auto" autoplay></audio>
    <div class="music-control" id="musicBtn">ğŸµ</div> 

    <script>
        const birthdayCard = document.getElementById('birthdayCard');
        const mainCardFront = document.getElementById('mainCardFront');
        const mainCardBack = document.getElementById('mainCardBack');
        const hiddenSourceBtn = document.getElementById('hiddenSourceBtn');
        const randomQuestionCard = document.getElementById('randomQuestionCard');
        const randomQTitle = document.getElementById('randomQTitle');
        const randomAnsInput = document.getElementById('randomAnsInput');
        const randomErrTip = document.getElementById('randomErrTip');
        const randomSubmitBtn = document.getElementById('randomSubmitBtn');
        const finalImgCard = document.getElementById('finalImgCard'); // å›¾ç‰‡Aï¼ˆ1å¼ å›ºå®šï¼‰
        const randomFinalImgCard = document.getElementById('randomFinalImgCard'); // å›¾ç‰‡Bæ¨¡å—ï¼ˆ2å¼ éšæœºï¼‰
        const randomFinalImgElem = document.querySelector('.random-final-img'); // å›¾ç‰‡Bæ¨¡å—çš„imgæ ‡ç­¾
        let isFlipped = false;
        let currentCardType = 'default';


        const randomImgBList = [
            "suijitow.jpg", // ç¬¬2å¼ å›¾ï¼šå›¾ç‰‡B1
            "suijione.jpg"  // ç¬¬3å¼ å›¾ï¼šå›¾ç‰‡B2ï¼ˆä¸Aã€B1éƒ½ä¸åŒï¼‰
        ];


        const cardList = [
            { key: 'question1', elem: document.getElementById('question1Card') },
            { key: 'question2', elem: document.getElementById('question2Card') },
            { key: 'question3', elem: document.getElementById('question3Card') },
            { key: 'final', elem: document.getElementById('finalImgCard') }
        ];
        const questionAndFinalCards = {
            question1: document.getElementById('question1Card'),
            question2: document.getElementById('question2Card'),
            question3: document.getElementById('question3Card'),
            final: document.getElementById('finalImgCard')
        };
        const backBtn = document.getElementById('backBtn');
        const answer1Input = document.getElementById('answer1Input');
        const error1Tip = document.getElementById('error1Tip');
        const submit1Btn = document.getElementById('submit1Btn');
        const answer2Input = document.getElementById('answer2Input');
        const error2Tip = document.getElementById('error2Tip');
        const submit2Btn = document.getElementById('submit2Btn');
        const answer3Input = document.getElementById('answer3Input');
        const error3Tip = document.getElementById('error3Tip');
        const submit3Btn = document.getElementById('submit3Btn');


        const randomQuestionList = [
            {
                title: "è€åŒæ¡Œå†œå†ç”Ÿæ—¥(5s)",
                correctAns: "2004925",
                isTimed: true 
            },
            {
                title: "å›½åº†æˆ‘åœ¨å“ªå®¶åƒçƒ¤è‚‰(5s)",
                correctAns: "å·é‡œçƒ¤è‚‰",
                isTimed: true
            },
            {
                title: "é«˜ä¸­æœ•æ—·æ™šè‡ªä¹ çœ‹å•¥ç”µå½±(5s)",
                correctAns: "é“ƒèŠ½ä¹‹æ—…",
                isTimed: true 
            }
        ];
        let currentRandomQ = null;
        let questionCountdownTimer = null; 
        let finalCardCountdownTimer = null; 
        let randomFinalCardCountdownTimer = null; 

        birthdayCard.addEventListener('click', () => {
            if (currentCardType === 'default' && !randomQuestionCard.classList.contains('random-question-show') && !finalImgCard.classList.contains('slide-in-left') && !randomFinalImgCard.classList.contains('slide-in-left')) {
                isFlipped = !isFlipped;
                if (isFlipped) {
                    birthdayCard.classList.add('flipped');
                } else {
                    birthdayCard.classList.remove('flipped');
                }
            }
        });


        hiddenSourceBtn.addEventListener('click', function() {

            if (randomQuestionCard.classList.contains('random-question-show') || finalImgCard.classList.contains('slide-in-left') || randomFinalImgCard.classList.contains('slide-in-left')) {
                return;
            }


            resetAllCardState();


            const randomIndex = Math.floor(Math.random() * randomQuestionList.length);
            currentRandomQ = randomQuestionList[randomIndex];


            randomQTitle.textContent = currentRandomQ.title;
            randomAnsInput.value = '';
            randomErrTip.classList.remove('show');


            startQuestion5sHiddenCountdown();


            mainCardFront.classList.add('main-card-shift-right');
            mainCardBack.classList.add('main-card-shift-right');
            randomQuestionCard.classList.add('random-question-show');
        });


        function startQuestion5sHiddenCountdown() {

            if (questionCountdownTimer) {
                clearTimeout(questionCountdownTimer);
            }

            questionCountdownTimer = setTimeout(() => {
                randomErrTip.classList.remove('show'); 
                resetToHomePage();
            }, 5000); 
        }


        randomSubmitBtn.addEventListener('click', function() {
            if (!currentRandomQ) return;

            const userAns = randomAnsInput.value.trim();
 
            if (userAns === currentRandomQ.correctAns) {

                clearTimeout(questionCountdownTimer);
                questionCountdownTimer = null;

                const randomImgIndex = Math.floor(Math.random() * randomImgBList.length); 
                const targetImgSrc = randomImgBList[randomImgIndex]; 
                randomFinalImgElem.src = targetImgSrc; 


                randomQuestionCard.classList.remove('random-question-show');
                randomQuestionCard.classList.add('random-question-hide');
                randomFinalImgCard.classList.add('slide-in-left');

 
                startRandomFinal3sHiddenCountdown();
            } else {
  
                randomErrTip.classList.add('show');
                clearTimeout(questionCountdownTimer);
                questionCountdownTimer = null;
                setTimeout(() => {
                    resetToHomePage();
                }, 500);
            }
        });

  
        function startFinal3sHiddenCountdown() {

            if (finalCardCountdownTimer) {
                clearTimeout(finalCardCountdownTimer);
            }

            finalCardCountdownTimer = setTimeout(() => {
                resetToHomePage();
            }, 10000); 
        }


        function startRandomFinal3sHiddenCountdown() {

            if (randomFinalCardCountdownTimer) {
                clearTimeout(randomFinalCardCountdownTimer);
            }
   
            randomFinalCardCountdownTimer = setTimeout(() => {
                resetToHomePage();
            }, 10000); 
        }


        function resetToHomePage() {
            resetAllCardState();

            birthdayCard.classList.remove('flipped');
            isFlipped = false;
            randomAnsInput.value = '';
        }


        function resetAllCardState() {

            clearTimeout(questionCountdownTimer);
            clearTimeout(finalCardCountdownTimer);
            clearTimeout(randomFinalCardCountdownTimer);
            questionCountdownTimer = null;
            finalCardCountdownTimer = null;
            randomFinalCardCountdownTimer = null;

 
            randomErrTip.classList.remove('show');
            randomQuestionCard.classList.remove('random-question-show', 'random-question-hide');
            finalImgCard.classList.remove('slide-in-left'); 
            randomFinalImgCard.classList.remove('slide-in-left'); 
            mainCardFront.classList.remove('main-card-shift-right');
            mainCardBack.classList.remove('main-card-shift-right');
            currentRandomQ = null;

            randomFinalImgElem.src = '';
        }


        function hideAllQuestionAndFinalCards() {
            cardList.forEach(item => {
                item.elem.classList.remove('card-slide-down');
                item.elem.classList.add('card-slide-up');
            });
            document.querySelector('.card-front').style.display = 'flex';
            document.querySelector('.card-back').style.display = 'flex';
            birthdayCard.classList.remove('flipped');
            isFlipped = false;
            currentCardType = 'default';
        }

        function slideDownCard(targetKey) {
            if (currentCardType !== 'default') {
                questionAndFinalCards[currentCardType].classList.remove('card-slide-down');
                questionAndFinalCards[currentCardType].classList.add('card-slide-up');
            }
            document.querySelector('.card-front').style.display = 'none';
            document.querySelector('.card-back').style.display = 'none';
            const targetCard = questionAndFinalCards[targetKey];
            targetCard.classList.remove('card-slide-up');
            targetCard.classList.add('card-slide-down');
            currentCardType = targetKey;
            resetCardInput(targetKey);
        }

        function slideUpCardToPrev() {
            const currentIndex = cardList.findIndex(item => item.key === currentCardType);
            questionAndFinalCards[currentCardType].classList.remove('card-slide-down');
            questionAndFinalCards[currentCardType].classList.add('card-slide-up');

            if (currentIndex === 0) {
                hideAllQuestionAndFinalCards();
            } else {
                const prevItem = cardList[currentIndex - 1];
                prevItem.elem.classList.remove('card-slide-up');
                prevItem.elem.classList.add('card-slide-down');
                currentCardType = prevItem.key;
                resetCardInput(prevItem.key);
            }
        }

        function resetCardInput(cardKey) {
            switch (cardKey) {
                case 'question1':
                    answer1Input.value = '';
                    error1Tip.classList.remove('show');
                    break;
                case 'question2':
                    answer2Input.value = '';
                    error2Tip.classList.remove('show');
                    break;
                case 'question3':
                    answer3Input.value = '';
                    error3Tip.classList.remove('show');
                    break;
                case 'final':
                    break;
                default:
                    break;
            }
        }

        backBtn.addEventListener('click', () => {
            if (currentCardType === 'default') {
                slideDownCard('question1');
            } else {
                slideUpCardToPrev();
            }
        });

        function showErrorTip(errorTip) {
            errorTip.classList.add('show');
            setTimeout(() => {
                errorTip.classList.remove('show');
            }, 2000);
        }

        submit1Btn.addEventListener('click', () => {
            const answer = answer1Input.value.trim();
            if (answer === 'æ—æ…§æ©') {
                slideDownCard('question2');
            } else {
                showErrorTip(error1Tip);
            }
        });

        submit2Btn.addEventListener('click', () => {
            const answer = answer2Input.value.trim();
            if (answer === '56') {
                slideDownCard('question3');
            } else {
                showErrorTip(error2Tip);
            }
        });

        submit3Btn.addEventListener('click', () => {
            const answer = answer3Input.value.trim();
            if (answer === '2005111121') {
                slideDownCard('final');
                // å¯åŠ¨å›¾ç‰‡Açš„3ç§’å€’è®¡æ—¶
                startFinal3sHiddenCountdown();
            } else {
                showErrorTip(error3Tip);
            }
        });
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥å†åˆ’çœŸçˆ†ç‚¸äº†ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ç°åœ¨é€€å‡ºæ¥å¾—åŠğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ç°åœ¨é€€å‡ºæ¥å¾—åŠğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ç°åœ¨é€€å‡ºæ¥å¾—åŠğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ç°åœ¨é€€å‡ºæ¥å¾—åŠğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ç°åœ¨é€€å‡ºæ¥å¾—åŠğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ç°åœ¨é€€å‡ºæ¥å¾—åŠğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */
/* ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ç°åœ¨é€€å‡ºæ¥å¾—åŠğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥  */




        const bgm = document.getElementById('bgm');
        const musicBtn = document.getElementById('musicBtn');
        let isPlaying = true;


        function initBgm() {

            bgm.play()
                .then(() => {
                    isPlaying = true;
                    musicBtn.textContent = 'ğŸµ'; 
                    console.log('èƒŒæ™¯éŸ³ä¹è‡ªåŠ¨æ’­æ”¾æˆåŠŸ');
                })
                .catch(err => {

                    document.addEventListener('click', () => {
                        bgm.play()
                            .then(() => {
                                isPlaying = true;
                                musicBtn.textContent = 'ğŸµ';
                                console.log('é€šè¿‡é¡µé¢äº¤äº’è§¦å‘èƒŒæ™¯éŸ³ä¹æ’­æ”¾æˆåŠŸ');
                            })
                            .catch(err => {
                                console.log('èƒŒæ™¯éŸ³ä¹æ’­æ”¾å¤±è´¥ï¼š', err);
                            });
                    }, { once: true }); 
                });
        }

        musicBtn.addEventListener('click', () => {
            if (isPlaying) {

                bgm.pause();
                isPlaying = false;
                musicBtn.textContent = 'ğŸ”‡';
            } else {

                bgm.play()
                    .then(() => {
                        isPlaying = true;
                        musicBtn.textContent = 'ğŸµ';
                    })
                    .catch(err => {
                        console.log('æ‰‹åŠ¨æ’­æ”¾å¤±è´¥ï¼š', err);
                    });
            }
        });


        window.addEventListener('DOMContentLoaded', () => {
            initBgm();
        });


        function createFireworks() {
            const container = document.getElementById('fireworkContainer');
            const fireworkColors = [
                { c1: '#ffeb3b', c2: '#ff9800' },
                { c1: '#2196f3', c2: '#9c27b0' },
                { c1: '#4caf50', c2: '#8bc34a' },
                { c1: '#ff5722', c2: '#f44336' },
                { c1: '#e91e63', c2: '#ff6b9d' },
                { c1: '#ffc107', c2: '#ffeb3b' }
            ];
            const maxFireworks = 8;
            let currentFireworks = 0;

            setInterval(() => {
                if (currentFireworks < maxFireworks) {
                    const firework = document.createElement('div');
                    firework.className = 'firework';
                    const top = Math.random() * 100 + '%';
                    const left = Math.random() * 100 + '%';
                    const randomColor = fireworkColors[Math.floor(Math.random() * fireworkColors.length)];
                    firework.style.top = top;
                    firework.style.left = left;
                    firework.style.background = `radial-gradient(circle, ${randomColor.c1} 0%, ${randomColor.c2} 100%)`;
                    firework.style.animationDuration = Math.random() * 2 + 2 + 's';
                    firework.style.animationDelay = Math.random() * 3 + 's';

                    container.appendChild(firework);
                    currentFireworks++;

                    setTimeout(() => {
                        firework.remove();
                        currentFireworks--;
                    }, 5000);
                }
            }, 800);
        }


        function createPetals() {
            const container = document.getElementById('petalContainer');
            const petalColors = ['#ff6b9d', '#ff98b5', '#ffd1dc', '#f8c8dc', '#f5e6f3'];
            const maxPetals = 40;
            let currentPetals = 0;

            setInterval(() => {
                if (currentPetals < maxPetals) {
                    const petal = document.createElement('div');
                    petal.className = 'petal';
                    petal.style.left = Math.random() * 100 + 'vw';
                    petal.style.top = '-10px';
                    petal.style.background = `radial-gradient(circle, ${petalColors[Math.floor(Math.random() * petalColors.length)]} 0%, ${petalColors[Math.floor(Math.random() * petalColors.length)]} 100%)`;
                    petal.style.animationDuration = Math.random() * 6 + 6 + 's';
                    petal.style.transform = `rotate(${Math.random() * 360}deg) scale(${Math.random() * 0.4 + 0.8})`;

                    container.appendChild(petal);
                    currentPetals++;

                    setTimeout(() => {
                        petal.remove();
                        currentPetals--;
                    }, 12000);
                }
            }, 300);
        }


        hideAllQuestionAndFinalCards();
        createFireworks();
        createPetals();
    </script>
<!-- çœ‹äº†åˆ«ç ¸ç”µè„‘äº†ğŸ¤ªï¼Œä½ çŸ¥é“æˆ‘çš„æ„Ÿæƒ…çš„å§ï¼Œæˆ‘ä¸ä¼šå’Œå¥³ç”ŸèŠå¤©ï¼Œäººåˆè‡ªå‘ï¼Œé«˜å¯Œå¸…æˆ‘æ˜¯ä¸€æ ·æ²¡æœ‰ğŸ˜­ï¼Œä¸»åŠ¨ç»™ä½ å‘æ¶ˆæ¯åˆä¸çŸ¥é“å’‹èŠï¼Œ-->
<!-- ä½ ä¸€æ‰¾æˆ‘æˆ‘åˆç‰¹åˆ«é«˜å…´ï¼Œæ²¡è¿½è¿‡å¥³ç”Ÿï¼Œåªæ‡‚å¾—è¦å¥½å¥½å¯¹äººå®¶å¥½ç‚¹ğŸ˜¿ï¼Œé«˜ä¸­æ²¡æ•¢å’Œä½ åˆå½±æ˜¯æˆ‘æœ€å¤§çš„é—æ†¾ï¼Œ-->
<!-- åˆ°ç°åœ¨è¿è§ä½ çš„å‹‡æ°”éƒ½æ²¡æœ‰äº†ï¼Œä¸Šæ¬¡åŠ³åŠ¨èŠ‚ä½ é‚€è¯·æˆ‘å»æ¼«å±•æ—¶ï¼Œæˆ‘é‚£ä¼šå„¿è€é«˜å…´äº†ï¼Œè™½ç„¶æˆ‘çŸ¥é“ä½ åªæ˜¯å‡ºäºæœ‹å‹é—´çš„ç¤¼è²Œå®¢å¥—ğŸ˜‚ï¼Œ-->
<!-- è¿˜æœ‰å›½åº†é‚£ä¼šçœ‹åˆ°ä½ ï¼Œåˆä¸æ•¢è¿›å»ï¼Œæ˜æ˜å°±å‡ æ­¥çš„è·ç¦»ï¼Œåªèƒ½è¯´æˆ‘å¤ªæ‡¦å¼±äº†ğŸ˜„ï¼Œå“ˆå“ˆã€‚-->
<!-- æ˜æ˜æˆ‘åˆæ²¡é‚£ä¹ˆçš„äº†è§£ä½ ï¼Œè€Œä¸”åˆæ²¡å’‹å’Œä½ æ¥è§¦äº†ï¼Œå…´è¶£ä¹Ÿå’Œä½ ä¸åŒï¼Œè€æ„Ÿè§‰ä½ å’Œæˆ‘è·ç¦»ä¿æŒçš„å¤ªå¥½äº†ğŸ˜£ï¼Œä¸€å†³å®šæ”¾å¼ƒä½ äº†ï¼Œæƒ³å’Œåˆ«çš„å¥³ç”Ÿå¥½å¥½æ¥è§¦ä¸€ä¸‹æ—¶ï¼Œåˆè¿˜æ˜¯å¿˜ä¸äº†ä½ ï¼Œä½ éƒ½æˆä¸ºæˆ‘çš„å¿ƒç—…äº†ğŸ˜­ï¼Œ-->
<!-- æˆ‘è‡ªå·±ä¹Ÿä¸æ‡‚åˆ°åº•å‡ºäºä»€ä¹ˆç†ç”±ï¼Œå¯èƒ½æ˜¯ä½ åœ¨æˆ‘å¹´è½»çš„æ—¶å€™åˆšå¥½å‡ºç°äº†ï¼Œæ˜¯æˆ‘å¤ªåœ¨æ„ä½ äº†ğŸ˜„ï¼ŒåŸé‡Œäººè¿˜æ˜¯å¤ªéš¾è¿½äº†ï¼Œä¸è¿‡æˆ‘ä¼¼ä¹ä¹Ÿæ²¡å’‹è¡ŒåŠ¨ğŸ˜£-->
<!-- å¦‚æœå¯ä»¥çš„è¯å¸Œæœ›ä½ èƒ½é€æˆ‘ä¸ªéå¸¸ä¾¿å®œçš„ç‰©è´¨æ€§çš„ä¸œè¥¿ï¼Œä¾¿å®œæ‘†ä»¶æŒ‚é¥°å•¥çš„ï¼Œå¥½è®©æˆ‘åšä¸ªé’æ˜¥çºªå¿µğŸ˜„ï¼Œ-->
<!-- è™½ç„¶ä½ ä¹‹å‰é€äº†æˆ‘å¥½å¤šå¥½åƒçš„ï¼Œä½†è¿™äº›éƒ½ä¿å­˜ä¸äº†ï¼Œå¤ªå¯æƒœäº†ğŸ˜­ï¼Œå½“ç„¶è¦æ˜¯æœ‰æœºä¼šå’Œä½ è¡¥ä¸€å¼ åˆå½±çš„è¯ï¼Œé‚£æˆ‘çœŸåšæ¢¦éƒ½ç¬‘é†’ğŸ˜ã€‚-->
<!-- ä½ ç®—æˆ‘å¹´è½»æ—¶çš„ç™½æœˆå…‰äº†å§ï¼Œè‡³å°‘å¤§æ¦‚ä¼šè®°å¾—ä½ ä¸€è¾ˆå­äº†ï¼Œé«˜ä¸­å’Œä½ åŒåå¾ˆå¼€å¿ƒğŸ˜„ï¼Œå¯æƒœæˆ‘è¿™å¹´çºªä¸å°äº†ğŸ˜£ï¼Œé©¬ä¸Šå°±å¿«å¤§å­¦æ¯•ä¸šäº†ï¼Œå¼ºæ‰­çš„ç“œä¸ç”œï¼Œ-->
<!-- ç­‰çœŸçš„åˆ°äº†ä½ æœ‹å‹åœˆå®˜å®£äº†æœ‰ç”·æœ‹å‹çš„æ—¶å€™ï¼Œæˆ‘è¿˜æ˜¯ä¼šå¥½å¥½ç¥ç¦çš„ğŸ˜¤ï¼Œä¸è¿‡è¿™ç¥ç¦ä¹Ÿä»…ä»…åªæ˜¯ç»™ä½ çš„ã€‚å¸Œæœ›ä½ æ°¸è¿œå¹¸ç¦å¿«ä¹ğŸ˜„-->
<!-- ï¼ˆç¬¬ä¸€æ¬¡å†™æ–‡æ¡ˆï¼Œæˆ‘è¿™æ–‡ç¬”è¿˜æ˜¯å¤ªæ— æ•Œäº†ï¼Œè™½ç„¶ä½ åº”è¯¥ä¸ä¼šçœ‹åˆ°ï¼Œæ¯•ç«Ÿæˆ‘è¿æ–‡æ¡ˆéƒ½è—åœ¨æºç¨‹åºé‡Œäº†ğŸ˜­ï¼Œä¸»è¦æ˜¯æˆ‘è¿™æ†‹ç€éš¾å—ğŸ˜£ï¼Œæ‰€ä»¥è¿˜æ˜¯å†³å®šå·å·è®²äº†ğŸ˜„ -->
<!-- èƒ½æƒ³åˆ°è¿™åŠæ³•æˆ‘ä¹Ÿæ˜¯å¤©æ‰äº†ğŸ˜ï¼Œè‡³äºä½ èƒ½ä¸èƒ½çœ‹åˆ°ä¹Ÿæ— æ‰€è°“äº†ï¼Œå¦‚æœä¸‡ä¸€ä½ çœ‹åˆ°äº†ï¼Œè®©ä½ å°´å°¬äº†æˆ–è€…æ˜¯å›°æ‰°ï¼Œè¿˜æ˜¯å½“ä½œæ²¡çœ‹è§å§ğŸ˜„ï¼‰ -->

</body>

</html>

